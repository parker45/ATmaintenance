extends layout
block extraHeader
    link(rel='stylesheet', href='/stylesheets/admin.css')
    //- link(rel='stylesheet', href='/stylesheets/styles.css')
    link(rel='stylesheet', href='https://use.fontawesome.com/releases/v5.6.3/css/all.css')
    script(type='text/javascript', src='/javascripts/admin.js')
block content
  section.wrapper(id="tasks")
    ul.column_list
      li.scrollable_list.recurring
        div.list_title
          h2 Tasks
          //- h3.filter_label Sort:
          //- select(id='filter_tasks', name='filter_tasks').mdl-textfield__input
            //- option(value='Newest') Due Date
            //- option(value='Priority') Priority
          //- i.fas.fa-tasks
          button(onclick="window.location.href = '/new_task';").mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.new_button.new_task 
            //- | #[i.fas.fa-thumbtack]
            | New Task
          //- form(onsubmit="return false;").search_form
          form(action='').search_form
            div.mdl-textfield.mdl-js-textfield.search_field
              input(type='text', name='search', value='', id="search", onkeyup="searchTasks()").mdl-textfield__input.search_field
              label(for="search").mdl-textfield__label.search_label Search...
              i.material-icons.mdl-textfield__label__icon search
        div.list_container
          ul(id='task_list').card_list
            each task in data.all
              if task.priority=='1'
                li.card_item.card_tag--low
                  h3.card_title #{task.title}
                  h3.card_location #{task.location}
                  br
                  if task.type=='Recurring'
                    i.fas.fa-calendar-alt.recurring_i
                  h3.card_date #{task.due_date}
                  h3.card_trip #{task.trip_id}
                  br
                  p.card_description #{task.description}
                  a(href='/database/task/'+task.id+'/update').mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_edit.a_button Edit
                  button(id=task.id).mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_delete.task_delete Delete
              else if task.priority=='2'
                li.card_item.card_tag--medium
                  h3.card_title #{task.title}
                  h3.card_location #{task.location}
                  br
                  if task.type=='Recurring'
                    i.fas.fa-calendar-alt.recurring_i
                  h3.card_date #{task.due_date}
                  h3.card_trip #{task.trip_id}
                  br
                  p.card_description #{task.description}
                  a(href='/database/task/'+task.id+'/update').mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_edit.a_button Edit
                  button(id=task.id).mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_delete.task_delete Delete
              else if task.priority=='3'
                li.card_item.card_tag--urgent
                  h3.card_title #{task.title}
                  h3.card_location #{task.location}
                  br
                  if task.type=='Recurring'
                    i.fas.fa-calendar-alt.recurring_i
                  h3.card_date #{task.due_date}
                  h3.card_trip #{task.trip_id}
                  br
                  p.card_description #{task.description}
                  a(href='/database/task/'+task.id+'/update').mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_edit.a_button Edit
                  button(id=task.id).mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_delete.task_delete Delete
              else if task.priority=='4'
                li.card_item.card_tag--emergency
                  h3.card_title #{task.title}
                  h3.card_location #{task.location}
                  br
                  if task.type=='Recurring'
                    i.fas.fa-calendar-alt.recurring_i
                  h3.card_date #{task.due_date}
                  h3.card_trip #{task.trip_id}
                  br
                  p.card_description #{task.description}
                  a(href='/database/task/'+task.id+'/update').mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_edit.a_button Edit
                  button(id=task.id).mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_delete.task_delete Delete
            each task in data.all_null
              if task.priority=='1'
                li.card_item.card_tag--low
                  h3.card_title #{task.title}
                  h3.card_location #{task.location}
                  br
                  if task.type=='Recurring'
                    i.fas.fa-calendar-alt.recurring_i
                  h3.card_date #{task.due_date}
                  h3.card_trip #{task.trip_id}
                  br
                  p.card_description #{task.description}
                  a(href='/database/task/'+task.id+'/update').mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_edit.a_button Edit
                  button(id=task.id).mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_delete.task_delete Delete
              else if task.priority=='2'
                li.card_item.card_tag--medium
                  h3.card_title #{task.title}
                  h3.card_location #{task.location}
                  br
                  if task.type=='Recurring'
                    i.fas.fa-calendar-alt.recurring_i
                  h3.card_date #{task.due_date}
                  h3.card_trip #{task.trip_id}
                  br
                  p.card_description #{task.description}
                  a(href='/database/task/'+task.id+'/update').mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_edit.a_button Edit
                  button(id=task.id).mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_delete.task_delete Delete
              else if task.priority=='3'
                li.card_item.card_tag--urgent
                  h3.card_title #{task.title}
                  h3.card_location #{task.location}
                  br
                  if task.type=='Recurring'
                    i.fas.fa-calendar-alt.recurring_i
                  h3.card_date #{task.due_date}
                  h3.card_trip #{task.trip_id}
                  br
                  p.card_description #{task.description}
                  a(href='/database/task/'+task.id+'/update').mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_edit.a_button Edit
                  button(id=task.id).mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_delete.task_delete Delete
              else if task.priority=='4'
                li.card_item.card_tag--emergency
                  h3.card_title #{task.title}
                  h3.card_location #{task.location}
                  br
                  if task.type=='Recurring'
                    i.fas.fa-calendar-alt.recurring_i
                  h3.card_date #{task.due_date}
                  h3.card_trip #{task.trip_id}
                  br
                  p.card_description #{task.description}
                  a(href='/database/task/'+task.id+'/update').mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_edit.a_button Edit
                  button(id=task.id).mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_delete.task_delete Delete
      li.scrollable_list.inbox
        div(id="inbox").nav_target
        div.list_title
          h2 Inbox
          i.fas.fa-inbox
        div.list_container
          ul.card_list
            each inbox in data.inbox
              li.card_item
                h3.card_date #{inbox.creation_date}
                p.card_description #{inbox.description}
                a(href='/database/task/'+inbox.id+'/review').mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_rank.a_button Review
                //- button.mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_button.card_merge Merge
                button(id=inbox.id).mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.card_button.card_delete.inbox_delete Delete
    button(id="inbox_button", onclick="window.location.href = '#inbox';").mdl-button.mdl-js-button.mdl-button--fab.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.nav_button 
      | #[i.fas.fa-inbox]
    button(id="tasks_button", onclick="window.location.href = '#tasks';").mdl-button.mdl-js-button.mdl-button--fab.mdl-button--raised.mdl-js-ripple-effect.mdl-button--accent.nav_button 
      | #[i.fas.fa-tasks]
